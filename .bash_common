# ~/.bash_common: executed all the time because stupid systems are inconsistent.

# This file contains common functionality for use by Bash shells, whether login
# or non-login, interactive or non-interactive.

# General scripts.
# bash_segments="options path env library ansible dotfiles ffmpeg filebot hass k8s kasa proxmox r53 reddit torrents beets comics pi host completion aliases";
for bash_dir in ${bash_segments}; do
  dotfiles_dir="${HOME}/.bash.${bash_dir}.d";
  if test -n "$(shopt -s nullglob; echo "${HOME}"/*.sh)"; then
    for file in "${HOME}"/*.sh; do
      source "${file}";
    done;
    unset file;
  fi;
done;

# General script stuff.
set -o pipefail;
set +o errexit;

# Source local modifications.
if [ -e "${HOME}/.bash_local" ]; then
  source "${HOME}/.bash_local";
fi;
